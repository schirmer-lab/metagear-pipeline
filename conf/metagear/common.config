params {
    validate_params = false
}

process {

    withName: SAMPLESHEET_CHECK {

        publishDir = [
            path: { "${params.outdir}/${params.workflow}_pipeline_info" },
            mode: "copy"
        ]
    }

    withName: RENAME_FILES {
        cpus = params.max_cpus
        memory = params.max_memory
        time = params.max_time

        publishDir = [
            path: { "${params.outdir}" },
            saveAs: { filename -> null }
        ]
    }

    withName: MULTIQC {

        publishDir = [
            path: { "${params.outdir}/${params.workflow}_pipeline_info" },
            mode: "copy"
        ]
    }

    withName: PARSE_KNEADDATA {

        publishDir = [
            path: { "${params.outdir}/kneaddata/stats" },
            mode: "copy"
        ]
    }

    withName: SUMMARY_KNEADDATA {

        publishDir = [
            path: { "${params.outdir}/kneaddata/stats" },
            mode: "copy"
        ]
    }

}
